# Appwrite Environment Variables for Coolify
# Replace placeholder values with your actual configuration.

# --- General Appwrite Settings ---
_APP_ENV=production # development or production
_APP_WORKER_PER_CORE=6 # Number of workers per CPU core
_APP_LOCALE=en # Default locale
_APP_COMPRESSION_MIN_SIZE_BYTES=1000 # Min size for response compression
_APP_CONSOLE_WHITELIST_ROOT=enabled # 'enabled' or 'disabled' for root account access to console
_APP_CONSOLE_WHITELIST_EMAILS= # Comma-separated list of emails allowed to access console
_APP_CONSOLE_SESSION_ALERTS=enabled # 'enabled' or 'disabled'
_APP_CONSOLE_WHITELIST_IPS= # Comma-separated list of IPs allowed to access console
_APP_CONSOLE_HOSTNAMES= # Comma-separated list of hostnames allowed for console access (e.g., console.yourdomain.com)

# --- System Email ---
_APP_SYSTEM_EMAIL_NAME=Appwrite # Sender name for system emails
_APP_SYSTEM_EMAIL_ADDRESS=mailer@appwrite.io # Sender email address for system emails
_APP_EMAIL_SECURITY= # Path to custom CA bundle for email security (optional)
_APP_SYSTEM_SECURITY_EMAIL_ADDRESS= # Email address to send security alerts to (optional)
_APP_EMAIL_CERTIFICATES=enabled # 'enabled' or 'disabled' for using custom certificates for emails

# --- System & Security Options ---
_APP_SYSTEM_RESPONSE_FORMAT= # Default response format version
_APP_OPTIONS_ABUSE=enabled # 'enabled' or 'disabled' for abuse protection
_APP_OPTIONS_ROUTER_PROTECTION=enabled # 'enabled' or 'disabled' for router protection
_APP_OPTIONS_FORCE_HTTPS=disabled # Let Coolify handle HTTPS
_APP_OPTIONS_ROUTER_FORCE_HTTPS=disabled  # Let Coolify handle HTTPS

# --- Encryption Key ---
_APP_OPENSSL_KEY_V1=your-super-secret-openssl-key # IMPORTANT: Generate a strong, unique 32-char random string

# --- Domain & CNAME ---
_APP_DOMAIN=appwrite.yourdomain.com # Your main Appwrite domain (e.g., appwrite.example.com) - MUST MATCH TRAEFIK RULE
_APP_DOMAIN_FUNCTIONS= # Domain for Appwrite functions (e.g., functions.yourdomain.com)
_APP_DOMAIN_SITES= # Domain for Appwrite sites (e.g., sites.yourdomain.com)

 # these CANNOT be null and Coolify has issues with proper handling of env variables
 # So I'm setting them to fake values
_APP_DOMAIN_TARGET_CNAME=cname.rcsagents.io
_APP_DOMAIN_TARGET_AAAA=aaaa.rcsagents.io
_APP_DOMAIN_TARGET_A=back.rcsagents.io

# --- Redis Configuration (usually managed by Coolify if using its Redis service) ---
_APP_REDIS_HOST=appwrite-redis # Service name of Redis container
_APP_REDIS_PORT=6379 # Redis port
_APP_REDIS_USER= # Redis username (if applicable)
_APP_REDIS_PASS= # Redis password (if applicable)

# --- MariaDB Configuration (usually managed by Coolify if using its MariaDB service) ---
_APP_DB_HOST=appwrite-mariadb # Service name of MariaDB container
_APP_DB_PORT=3306 # MariaDB port
_APP_DB_SCHEMA=appwrite # Database name
_APP_DB_USER=appwrite_user # Database user
_APP_DB_PASS=your-strong-db-password # Database password - IMPORTANT: Set a strong password
_APP_DB_ROOT_PASS=your-strong-db-root-password # MariaDB root password - IMPORTANT: Set a strong password

# --- SMTP (Email) Configuration ---
_APP_SMTP_HOST= # Your SMTP server host (e.g., smtp.mailgun.org)
_APP_SMTP_PORT= # Your SMTP server port (e.g., 587)
_APP_SMTP_SECURE=tls # 'tls', 'ssl', or empty
_APP_SMTP_USERNAME= # Your SMTP username
_APP_SMTP_PASSWORD= # Your SMTP password

# --- Usage Statistics ---
_APP_USAGE_STATS=enabled # 'enabled' or 'disabled' to send anonymous usage stats to Appwrite

# --- Storage Settings ---
_APP_STORAGE_LIMIT=5000000000 # Max storage limit in bytes (e.g., 5GB)
_APP_STORAGE_PREVIEW_LIMIT=10000000 # Max preview file size in bytes (e.g., 10MB)
_APP_STORAGE_ANTIVIRUS=disabled # 'enabled' or 'disabled' for ClamAV
_APP_STORAGE_ANTIVIRUS_HOST=appwrite-clamav # ClamAV service name (if enabled)
_APP_STORAGE_ANTIVIRUS_PORT=3310 # ClamAV port (if enabled)
_APP_STORAGE_DEVICE=local # 'local', 's3', 'dospaces', 'backblaze', 'linode', 'wasabi'

# --- S3 Storage (if _APP_STORAGE_DEVICE=s3) ---
_APP_STORAGE_S3_ACCESS_KEY=
_APP_STORAGE_S3_SECRET=
_APP_STORAGE_S3_REGION=
_APP_STORAGE_S3_BUCKET=
_APP_STORAGE_S3_ENDPOINT= # e.g., https://s3.amazonaws.com or MinIO endpoint

# --- DigitalOcean Spaces (if _APP_STORAGE_DEVICE=dospaces) ---
_APP_STORAGE_DO_SPACES_ACCESS_KEY=
_APP_STORAGE_DO_SPACES_SECRET=
_APP_STORAGE_DO_SPACES_REGION=
_APP_STORAGE_DO_SPACES_BUCKET=

# --- Backblaze B2 (if _APP_STORAGE_DEVICE=backblaze) ---
_APP_STORAGE_BACKBLAZE_ACCESS_KEY=
_APP_STORAGE_BACKBLAZE_SECRET=
_APP_STORAGE_BACKBLAZE_REGION=
_APP_STORAGE_BACKBLAZE_BUCKET=

# --- Linode Object Storage (if _APP_STORAGE_DEVICE=linode) ---
_APP_STORAGE_LINODE_ACCESS_KEY=
_APP_STORAGE_LINODE_SECRET=
_APP_STORAGE_LINODE_REGION=
_APP_STORAGE_LINODE_BUCKET=

# --- Wasabi (if _APP_STORAGE_DEVICE=wasabi) ---
_APP_STORAGE_WASABI_ACCESS_KEY=
_APP_STORAGE_WASABI_SECRET=
_APP_STORAGE_WASABI_REGION=
_APP_STORAGE_WASABI_BUCKET=

# --- Compute Settings (Functions & Sites) ---
_APP_COMPUTE_SIZE_LIMIT=10000000 # Max size for function/site code in bytes (e.g., 10MB)
_APP_FUNCTIONS_TIMEOUT=900 # Max execution time for functions in seconds (15 minutes)
_APP_SITES_TIMEOUT=300 # Max execution time for sites in seconds (5 minutes)
_APP_COMPUTE_BUILD_TIMEOUT=900 # Max build time for functions/sites in seconds
_APP_COMPUTE_CPUS=0 # Number of CPUs for compute (0 for unlimited)
_APP_COMPUTE_MEMORY=0 # Memory limit for compute in MB (0 for unlimited)
_APP_FUNCTIONS_RUNTIMES=node-18.0,php-8.0,python-3.9,ruby-3.0,deno-1.21,dart-2.17,swift-5.5,kotlin-1.6,java-11.0,cpp-17,dotnet-6.0 # Comma-separated list of enabled runtimes
_APP_SITES_RUNTIMES=node-18.0,php-8.0,python-3.9,ruby-3.0,deno-1.21,dart-2.17 # Comma-separated list of enabled site runtimes
_APP_COMPUTE_INACTIVE_THRESHOLD=600 # Seconds before an inactive runtime is removed
_APP_COMPUTE_MAINTENANCE_INTERVAL=86400 # Seconds between executor maintenance cycles
_APP_COMPUTE_RUNTIMES_NETWORK=runtimes # Docker network for runtimes

# --- Executor Settings ---
_APP_EXECUTOR_SECRET=your-super-secret-executor-key # IMPORTANT: Generate a strong, unique random string
_APP_EXECUTOR_HOST=http://openruntimes-executor:3000 # Hostname of the executor service

# --- Logging ---
_APP_LOGGING_CONFIG= # JSON logging configuration (optional)

# --- Maintenance Settings ---
_APP_MAINTENANCE_INTERVAL=86400 # Interval for maintenance tasks in seconds (24 hours)
_APP_MAINTENANCE_DELAY=3600 # Delay before starting maintenance in seconds (1 hour)
_APP_MAINTENANCE_START_TIME=00:00 # Start time for maintenance (HH:MM)
_APP_MAINTENANCE_RETENTION_EXECUTION=7776000 # Execution logs retention in seconds (90 days)
_APP_MAINTENANCE_RETENTION_CACHE=2592000 # Cache retention in seconds (30 days)
_APP_MAINTENANCE_RETENTION_ABUSE=2592000 # Abuse logs retention in seconds (30 days)
_APP_MAINTENANCE_RETENTION_AUDIT=1209600 # Audit logs retention in seconds (14 days)
_APP_MAINTENANCE_RETENTION_AUDIT_CONSOLE=1209600 # Console audit logs retention in seconds (14 days)
_APP_MAINTENANCE_RETENTION_USAGE_HOURLY=7776000 # Hourly usage stats retention in seconds (90 days)
_APP_MAINTENANCE_RETENTION_SCHEDULES=2592000 # Schedule logs retention in seconds (30 days)

# --- SMS Provider ---
_APP_SMS_PROVIDER= # e.g., twilio://<ACCOUNT_SID>:<AUTH_TOKEN>@<API_HOST_AND_VERSION_MAYBE>
_APP_SMS_FROM= # Your SMS sender phone number

# --- GraphQL Settings ---
_APP_GRAPHQL_MAX_BATCH_SIZE=10 # Max batch size for GraphQL queries
_APP_GRAPHQL_MAX_COMPLEXITY=1000 # Max complexity for GraphQL queries
_APP_GRAPHQL_MAX_DEPTH=10 # Max depth for GraphQL queries

# --- VCS (Version Control System) - GitHub App ---
_APP_VCS_GITHUB_APP_NAME= # Your GitHub App name
_APP_VCS_GITHUB_PRIVATE_KEY= # Your GitHub App private key (multiline, ensure correct formatting)
_APP_VCS_GITHUB_APP_ID= # Your GitHub App ID
_APP_VCS_GITHUB_WEBHOOK_SECRET= # Your GitHub App webhook secret
_APP_VCS_GITHUB_CLIENT_SECRET= # Your GitHub App client secret
_APP_VCS_GITHUB_CLIENT_ID= # Your GitHub App client ID

# --- Migrations (Firebase) ---
_APP_MIGRATIONS_FIREBASE_CLIENT_ID=
_APP_MIGRATIONS_FIREBASE_CLIENT_SECRET=

# --- AI Assistant (OpenAI) ---
_APP_ASSISTANT_OPENAI_API_KEY= # Your OpenAI API Key (optional)

# --- Docker Hub Credentials (for pulling custom runtimes) ---
_APP_DOCKER_HUB_USERNAME=
_APP_DOCKER_HUB_PASSWORD=

_APP_DATABASE_SHARED_TABLES=

# --- Stats Intervals ---
_APP_STATS_RESOURCES_INTERVAL=1800 # Interval for resource stats collection in seconds (30 minutes)
_APP_USAGE_AGGREGATION_INTERVAL=3600 # Interval for usage aggregation in seconds (1 hour) 